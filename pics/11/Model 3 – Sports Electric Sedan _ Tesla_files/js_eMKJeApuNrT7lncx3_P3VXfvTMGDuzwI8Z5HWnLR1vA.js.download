(function(){const optimizelyUrl='https://cdn.optimizely.com/js/27160410180.js';const cookieBannerStageSrc='https://digitalassets.tesla.com/raw/upload/emea-market-assets/stage/cookie-banner.js';const cookieBannerProdSrc='https://digitalassets.tesla.com/raw/upload/emea-market-assets/prod/cookie-banner.js';const gtmUrl='https://www.googletagmanager.com/ns.html?id=GTM-KMG5DM';function e(e,t){const scriptElement=document.createElement('script');scriptElement.setAttribute('src',e);scriptElement.setAttribute('type','text/javascript');t.append(scriptElement)};document.addEventListener('tsla-cookie-consent',(consent)=>{console.info('[Cookie Consent] Decision: '+consent.detail.decision);const cookieBannerEl=document.querySelector('#cookie_banner');if(cookieBannerEl){cookieBannerEl.style.setProperty('display','none')};if(consent.detail.decision==='accepted'){e(optimizelyUrl,document.body);window.dataLayer=[];(function(t,n,i,e,a){t[e]=t[e]||[];t[e].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var c=n.getElementsByTagName(i)[0],o=n.createElement(i),r=e!='dataLayer'?'&l='+e:'';o.async=!0;o.src='https://www.googletagmanager.com/gtm.js?id='+a+r;c.parentNode.insertBefore(o,c)})(window,document,'script','dataLayer','GTM-KMG5DM');const iframe=document.createElement('iframe');iframe.style.display='none';iframe.style.visibility='hidden';iframe.src=gtmUrl;document.body.appendChild(iframe);window.TSLA_ANALYTICS.init();window.addEventListener('scroll',()=>{window.TSLA_ANALYTICS.genericScrollEventHandler()},!1)}});document.addEventListener('DOMContentLoaded',()=>{if(document&&document.body&&document.head){const currentRegion=window.drupalSettings.path.currentLanguage||'en_us';if(currentRegion==='zh_cn')return;const isProd=window.location.host==='www.tesla.com';const cookieBannerSrc=isProd?cookieBannerProdSrc:cookieBannerStageSrc;e(cookieBannerSrc,document.body);const cookieBannerStyleNode=document.createElement('style');cookieBannerStyleNode.type='text/css';const zIndexStyleText=document.createTextNode('#cookie_banner { z-index: 100001 !important; }');const positionStyleText=document.createTextNode('#cookie_banner { position: sticky !important; }');cookieBannerStyleNode.appendChild(zIndexStyleText);cookieBannerStyleNode.appendChild(positionStyleText);document.head.append(cookieBannerStyleNode)}})})();;
;window['cua-chat']=window['cua-chat']||{};window['cua-chat'].actions=window['cua-chat'].actions||{};window['cua-chat'].chatAskAQuestionMode=!0;window['cua-chat'].manualIconRender=!0;const showStickyBar=()=>{const pageBody=document.querySelector('body');const stickyBar=document.createElement('div');stickyBar.className='tcl-sticky-bar';const chatContainer=document.createElement('div');chatContainer.className='chat-container';stickyBar.appendChild(chatContainer);const bannerHeight=getComputedStyle(stickyBar).height;document.documentElement.style.setProperty('--tcl-bottom-banner-height',bannerHeight);if(window.innerWidth<1200){window['cua-chat'].chatAskAQuestionMode=!1;window['cua-chat'].manualIconRender=!1;stickyBar.style.display='none'};const onChatLoaded=()=>{pageBody.appendChild(stickyBar);const checkChatAvailable=(retryCount=0)=>{const maxRetries=50;if(retryCount>=maxRetries){console.error('Chat failed to load after maximum retries');return};if(window['cua-chat']?.manualIconRender===!0){const actions=window['cua-chat']?.actions;const chatContainer=document.querySelector('.chat-container');if(typeof actions?.renderIcon==='function'&&chatContainer){actions.renderIcon(chatContainer)}}
else{setTimeout(()=>checkChatAvailable(retryCount+1),100)}};checkChatAvailable()};document.addEventListener('cua-chat-initialized',onChatLoaded)};window.addEventListener('DOMContentLoaded',()=>{try{showStickyBar()}catch(t$){console.log('error handler called: ',t$)}});;
(function(){'use strict';var e={MAX_LABEL_LENGTH:1024,LISTENER_ATTRIBUTE:'data-gtm-listener-attached',DRAWER_ATTRIBUTE:'data-tcl-gtm-drawer',MAX_DOM_TRAVERSAL:20,DEBUG_MODE:!1,NAVIGATION_DELAY:0,EXCLUDED_DOMAINS:[/\.cn$/i],EXCLUDED_REGIONS:['cn']};function i(e){if(!e)return e;return e.replace(/([\\.:[\]()])/g,'\\$1')};var a=['a[href]','button','input[type="button"]','input[type="submit"]','.tds-btn'].join(', ');function l(n){if(!n||typeof n.getAttribute!=='function'){return''};try{var a=[],r=n,h=0;while(r&&r!==document.body&&h<e.MAX_DOM_TRAVERSAL){var s=r.tagName.toLowerCase(),g=r.id;if(g&&g.trim()){s+='#'+i(g)}
else{var o=[],E=r.classList||[];for(var f=0;f<E.length;f++){var u=E[f];if(u&&u.trim()){o.push('.'+i(u))}};o=o.slice(0,3).join('');s+=o;var m=r.parentElement;if(m){var c=[],d=m.children;for(var l=0;l<d.length;l++){if(d[l].tagName===r.tagName){c.push(d[l])}};var v=c.indexOf(r);if(c.length>1&&(v>0||(o&&c.length>1))){s+=':nth-of-type('+(v+1)+')'}}};a.unshift(s);r=r.parentElement;h++};if(a.length>0&&!a[0].startsWith('body')){a.unshift('body')};return a.join(' > ')}catch(t){console.warn('[GTM] Error generating CSS selector path:',t);return''}};function n(n){if(!n)return'';try{return n.toString().trim().replace(/\s+/g,' ').substring(0,e.MAX_LABEL_LENGTH)}catch(t){console.warn('[GTM] Error sanitizing label:',t);return''}};function r(t){try{if(typeof window==='undefined'){console.warn('[GTM] Window object not available');return};window.dataLayer=window.dataLayer||[];if(!t||typeof t!=='object'){console.warn('[GTM] Invalid event data provided:',t);return};var r={};for(var i in t){if(t.hasOwnProperty(i)){r[i]=t[i]}};r.timestamp=Date.now();r.user_agent=navigator.userAgent||'unknown';window.dataLayer.push(r);if(e.DEBUG_MODE||window.location.hostname==='localhost'){console.log('[GTM] Event sent:',r)}}catch(n){console.log('[GTM] Error sending event to dataLayer:',n)}};function c(i){try{var t=i.currentTarget;if(!t||!t.tagName){console.warn('[GTM] Invalid element in click handler');return};var u=t.tagName.toLowerCase()==='a'||Boolean(t.closest('a')),a='';if(u){a=t.href||t.getAttribute('href')||'';if(a&&a.includes('?')){if(e.DEBUG_MODE){console.log('[GTM] URL with parameters detected:',a)}}};var v=[t.getAttribute('aria-label'),t.getAttribute('title'),t.innerText,t.textContent,a],f=n((function(){for(var e=0;e<v.length;e++){if(v[e]&&v[e].trim()){return v[e]}};return'Unknown'})()),g=d(t),h=t.getAttribute('role'),D=l(t),y=s(h,u,t),w=n(a||f)+' ('+y+')',L=g?'['+g+'] '+(u?a:'Button')+' ('+f+')':(u?a:'Button')+' ('+f+')',M={event:'tcl-click',event_category:y,event_action:'click',event_label:L,section:g,elementId:t.id||null,text:f,href:a,role:h||null,tagName:t.tagName.toLowerCase(),classList:(t.classList&&t.classList.length?Array.from(t.classList):[]).join(' '),cssSelectorPath:D,linkType:u?'link':'button',drawer:g,interaction:w,timestamp:Date.now(),version:'2.0.0'};r(M);var m=!1;if(t.tagName.toLowerCase()==='a'&&a&&(t.getAttribute('target')===null||t.getAttribute('target')==='_self')&&t.getAttribute('download')===null&&!i.ctrlKey&&!i.metaKey&&!i.shiftKey&&!i.defaultPrevented){try{var c=new URL(a,document.baseURI);if(c.protocol==='http:'||c.protocol==='https:'){var p=location.href.split('#')[0],A=c.href.split('#')[0];if(A!==p&&c.origin===location.origin){m=!0}}}catch(o){}};if(m&&e.NAVIGATION_DELAY>0){i.preventDefault();setTimeout(function(){if(a){window.location.href=a}},e.NAVIGATION_DELAY)};var T=!1;if(t.tagName.toLowerCase()==='a'&&a&&(t.getAttribute('target')===null||t.getAttribute('target')==='_self')&&t.getAttribute('download')===null&&!i.ctrlKey&&!i.metaKey&&!i.shiftKey&&!i.defaultPrevented){try{var c=new URL(a,document.baseURI);if((c.protocol==='http:'||c.protocol==='https:')&&c.origin!==location.origin){T=!0}}catch(o){}};if(T&&e.NAVIGATION_DELAY>0){i.preventDefault();setTimeout(function(){if(a){window.location.href=a}},e.NAVIGATION_DELAY)};var b=!1;if((t.tagName.toLowerCase()==='input'&&(t.type==='submit'||t.type==='button'))||(t.tagName.toLowerCase()==='button'&&t.type==='submit')){var E=t.closest('form');if(E&&E.method.toLowerCase()!=='dialog'&&!i.defaultPrevented){b=!0}};if(b&&e.NAVIGATION_DELAY>0){i.preventDefault();setTimeout(function(){t.closest('form').submit()},e.NAVIGATION_DELAY)}}catch(o){console.log('[GTM] Error handling click event:',o);try{r({event:'gtm-error',error_type:'click_handler_error',error_message:o.message||'Unknown error',error_stack:o.stack||'No stack trace'})}catch(o){console.log('[GTM] Failed to send error event:',o)}}};function s(e,r,t){if(e){switch(e.toLowerCase()){case'button':return'Button Click';case'link':return'Link Click';case'tab':return'Tab Click';case'menuitem':return'Menu Click';case'navigation':return'Navigation Click';case'search':return'Search Click';case'dialog':return'Dialog Click';default:return e.charAt(0).toUpperCase()+e.slice(1)+' Click'}};if(r){return'Link Click'};var o=t.tagName.toLowerCase(),n=(t.classList&&t.classList.length?Array.from(t.classList):[]).join(' ');if(o==='input'){var i=t.getAttribute('type');return i==='submit'?'Submit Click':'Button Click'};if(n.includes('nav'))return'Navigation Click';if(n.includes('menu'))return'Menu Click';if(n.includes('tab'))return'Tab Click';if(n.includes('modal')||n.includes('dialog'))return'Dialog Click';return'Button Click'};function d(r){if(!r||typeof r.getAttribute!=='function'){return null};var i=r,l=0;while(i&&i!==document.body&&l<e.MAX_DOM_TRAVERSAL){try{var a=i.getAttribute(e.DRAWER_ATTRIBUTE);if(a){return n(a)};var o=i.getAttribute('data-gtm-key');if(o){return n(o)};if(i.id&&i.id.trim()){return n(i.id)};i=i.parentElement;l++}catch(t){console.warn('[GTM] Error traversing DOM for drawer context:',t);break}};return null};function t(n){if(!n||typeof n.querySelectorAll!=='function'){console.warn('[GTM] Invalid container provided to attachClickListeners');return};try{var o=n.querySelectorAll(a);if(e.DEBUG_MODE){console.log('[GTM] Found '+o.length+' trackable elements')};for(var r=0;r<o.length;r++){var i=o[r],l=r;try{if(i.hasAttribute(e.LISTENER_ATTRIBUTE)){continue};i.addEventListener('click',c,{passive:!0,capture:!1});i.setAttribute(e.LISTENER_ATTRIBUTE,'true')}catch(t){console.warn('[GTM] Error attaching listener to element '+l+':',t)}}}catch(t){console.log('[GTM] Error in attachClickListeners:',t)}};function o(n){try{if(!n||!n.detail||!n.detail.element){console.warn('[GTM] Invalid React component event received');return};var i=n.detail.element;if(e.DEBUG_MODE){console.log('[GTM] React component event:',n.type,i)};t(i)}catch(r){console.log('[GTM] Error handling React component event:',r)}};function u(){try{var s=window.location.hostname,d=!1;for(var a=0;a<e.EXCLUDED_DOMAINS.length;a++){if(e.EXCLUDED_DOMAINS[a].test(s)){d=!0;break}};if(d){console.log('[GTM] Tracking disabled for excluded domain:',s);return};if(window.i18n&&window.i18n.region){var c=!1;for(var i=0;i<e.EXCLUDED_REGIONS.length;i++){if(e.EXCLUDED_REGIONS[i].toLowerCase()===window.i18n.region.toLowerCase()){c=!0;break}};if(c){console.log('[GTM] Tracking disabled for excluded region:',window.i18n.region);return}};document.addEventListener('tcl-react-component-initialized',o,{passive:!0});document.addEventListener('tcl-react-component-mounted',o,{passive:!0});if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',function(){t(document.body);console.log('[GTM] Click tracking initialized after DOMContentLoaded')},{once:!0})}
else{t(document.body);console.log('[GTM] Click tracking initialized immediately (DOM already loaded)')};if(typeof MutationObserver!=='undefined'&&document.body){var u=new MutationObserver(function(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.type==='childList'&&n.addedNodes.length>0){for(var r=0;r<n.addedNodes.length;r++){var o=n.addedNodes[r];if(o.nodeType===Node.ELEMENT_NODE){t(o)}}}}});try{u.observe(document.body,{childList:!0,subtree:!0});if(e.DEBUG_MODE){console.log('[GTM] MutationObserver initialized for dynamic content')}}catch(n){console.warn('[GTM] Failed to initialize MutationObserver:',n)}}
else if(!document.body){var l=function(){if(typeof MutationObserver!=='undefined'&&document.body){var r=new MutationObserver(function(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.type==='childList'&&n.addedNodes.length>0){for(var r=0;r<n.addedNodes.length;r++){var o=n.addedNodes[r];if(o.nodeType===Node.ELEMENT_NODE){t(o)}}}}});try{r.observe(document.body,{childList:!0,subtree:!0});if(e.DEBUG_MODE){console.log('[GTM] MutationObserver initialized after DOM ready')}}catch(n){console.warn('[GTM] Failed to initialize delayed MutationObserver:',n)}}};if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',l,{once:!0})}
else{setTimeout(l,100)}}}catch(n){console.log('[GTM] Error initializing GTM tracking:',n);try{r({event:'gtm-error',error_type:'initialization_error',error_message:n.message||'Unknown initialization error'})}catch(n){console.log('[GTM] Failed to send initialization error event:',n)}}};u();if(typeof window!=='undefined'){window.reinitializeGTMTracking=function(){console.log('[GTM] Manual re-initialization requested');t(document.body)}}})();;
;const stateNameMappings={'AL':'Alabama','AK':'Alaska','AZ':'Arizona','AR':'Arkansas','CA':'California','CO':'Colorado','CT':'Connecticut','DE':'Delaware','FL':'Florida','GA':'Georgia','HI':'Hawaii','ID':'Idaho','IL':'Illinois','IN':'Indiana','IA':'Iowa','KS':'Kansas','KY':'Kentucky','LA':'Louisiana','ME':'Maine','MD':'Maryland','MA':'Massachusetts','MI':'Michigan','MN':'Minnesota','MS':'Mississippi','MO':'Missouri','MT':'Montana','NE':'Nebraska','NV':'Nevada','NH':'New Hampshire','NJ':'New Jersey','NM':'New Mexico','NY':'New York','NC':'North Carolina','ND':'North Dakota','OH':'Ohio','OK':'Oklahoma','OR':'Oregon','PA':'Pennsylvania','RI':'Rhode Island','SC':'South Carolina','SD':'South Dakota','TN':'Tennessee','TX':'Texas','UT':'Utah','VT':'Vermont','VA':'Virginia','WA':'Washington','WV':'West Virginia','WI':'Wisconsin','WY':'Wyoming','DC':'District of Columbia'};const fetchPricing=async(region='US',state,parameters)=>{try{const baseUrl=window?.dynamic_pricing?.endpoint??'https://apigateway-pricing-gateway.tesla.com/pricing/v2';const encodedRegion=encodeURIComponent(region);const encodedState=encodeURIComponent(state??'');if(!baseUrl||!encodedRegion){throw new Error('Pricing API parameters are missing')};const url=baseUrl+'/'+encodedRegion+'?region='+encodedRegion+(encodedState?'&region='+encodedState:'')+(parameters?parameters:'');return fetch(url,{method:'GET',}).then(res=>{if(res.ok){return res.json()}})}catch(e$){if(e$ instanceof Error){if(e$.name==='AbortError'){throw new Error('Pricing request was cancelled or timed out')};throw new Error(`Failed;to;fetch;pricing:${e$.message};`)};throw new Error('Unknown error occurred while fetching pricing')}};const getStateFromGeoIp=()=>{return fetch('https://location-services-prd.tesla.com/geoip/city').then((res)=>{if(res.ok){return res.json()}
else{throw new Error(`HTTP;Response;Code:${res&&res.status};`)}}).catch((error)=>{if(error.name==='AbortError'){throw new Error('Request timeout: GeoIP service took too long to respond')};throw error})};const getCookieJSON=(cookieName)=>{const name=cookieName+'=';const cookies=document.cookie.split(';');for(let index=0;index<cookies.length;index++){const cookie=cookies[index];const trimmedCookie=cookie.trim();if(trimmedCookie.startsWith(name)){const cookieValue=trimmedCookie.substring(name.length);if(cookieValue){try{if(typeof cookieValue!=='string'||cookieValue.length>10000){return!1};const trimmed=cookieValue.trim();if(!((trimmed.startsWith('{')&&trimmed.endsWith('}'))||(trimmed.startsWith('[')&&trimmed.endsWith(']')))){return!1};return JSON.parse(cookieValue)}catch(e$){return!1}}}};return!1};const getStateFromCookie=async()=>{const cookieSources=['preferred_address','device_location','ip_info'];for(let index=0;index<cookieSources.length;index++){const cookieName=cookieSources[index];const locationData=getCookieJSON(cookieName);const regionCode=locationData?.countryCode==='US'?locationData?.region?.regionCode:null;if(regionCode){return regionCode}};try{return getStateFromGeoIp().then(geoData=>{if(geoData?.country?.iso_code==='US'&&geoData?.subdivisions?.[0]){return geoData.subdivisions[0].iso_code};return undefined})}catch(e$){console.warn('Failed to fetch location from GeoIP service:',e$);return undefined}};const convertTValueToHTML=(t_value)=>{const tempDiv=document.createElement('div');tempDiv.innerHTML=t_value.trim();return tempDiv};const getPriceWithKey=(pricingData,region,state,model,variant,financeOption,getState,priceKey,fallbackToCash)=>{let price=null;let regionPrice=null;let cashPrice=null;let currencyCode=null;const regionModelPrice=pricingData?.[region]?.[model]??[];const modelPrice=getState&&state?pricingData?.[state]?.[model]??regionModelPrice:regionModelPrice;for(let index=0;index<modelPrice.length;index++){const variantPrice=modelPrice[index];const regionVariantPrice=regionModelPrice[index];if(variantPrice?.variant.toLowerCase()===variant){if(financeOption==='cash'){price=variantPrice?.cash?.[priceKey];regionPrice=regionVariantPrice?.cash?.[priceKey]}
else if(financeOption==='loan'){price=variantPrice?.loan_options?.[0]?.[priceKey];regionPrice=regionVariantPrice?.loan_options?.[0]?.[priceKey]}
else if(financeOption==='lease'){price=variantPrice?.lease_options?.[0]?.[priceKey];regionPrice=regionVariantPrice?.lease_options?.[0]?.[priceKey];if(priceKey==='min_down_payment'&&price>variantPrice?.lease_options?.[0]?.['down_payment']){throw new Error('Min Down Payment invalid')}};cashPrice=variantPrice?.cash?.[priceKey];currencyCode=variantPrice?.currency_code}};if(price!==0&&!price){price=regionPrice};if(price!==0&&!price){throw new Error('Price not found')};const intl_region=currencyCode?new Intl.NumberFormat(locale.replace('_','-'),{style:'currency',currency:currencyCode,minimumFractionDigits:0,}):null;const roundedPrice=Math.round(price);const formattedPrice=intl_region.format(roundedPrice);return formattedPrice};const getPrice=async(region,state,parameters,pricingData=null)=>{if(pricingData){return pricingData};if(!window.dynamic_pricing){window.dynamic_pricing={}};if(!window.dynamic_pricing.pricing_data){window.dynamic_pricing.pricing_data={}};const parameterKey=parameters.replaceAll('&','').replaceAll('=','');if(parameterKey in window.dynamic_pricing.pricing_data){return window.dynamic_pricing.pricing_data[parameterKey]}
else{return fetchPricing(region,state,parameters).then(response=>{if(!window.dynamic_pricing){window.dynamic_pricing={}};if(!window.dynamic_pricing.pricing_data){window.dynamic_pricing.pricing_data={}};window.dynamic_pricing.pricing_data[parameterKey]=response;return response})}};const extractPricingData=async(state,pricingData)=>{try{const pricingContainers=document.querySelectorAll('[data-entity="dynamic-pricing-container-injector-2"]');let locale=window.Tesla?.locale||'en_US';locale=locale==='en'?'en_US':locale;const regionLocalesWhiteList=window?.dynamic_pricing?.pull_region_locales_white_list||[];const getState=regionLocalesWhiteList?.includes(locale.toLowerCase());if(!getState){state=undefined};let region=locale?.split('_')?.[1]?.toUpperCase()||'US';const containerData=Array.from(pricingContainers).map((container)=>({container,model:container.getAttribute('data-model').toLowerCase()||'',variant:container.getAttribute('data-variant').toLowerCase()||'',financeOption:container.getAttribute('data-finance-option').toLowerCase()||'',parameters:container.getAttribute('data-parameters')||'',}));const processContainer=({container,model,variant,financeOption,parameters})=>{return getPrice(region,state,parameters,pricingData).then(pricingData=>{try{if(!pricingData){throw new Error('Pricing data not available')};const financeOptionCopyElements=container.querySelectorAll(`[data-entity='dynamic-pricing-copy'][data-copy='${financeOption}']`);const pricingCopyElements=container.querySelectorAll('[data-entity="dynamic-pricing-copy"][data-copy="price"]');const stateCopyElements=container.querySelectorAll('[data-entity="dynamic-pricing-copy"][data-copy="state"]');for(let index=0;index<pricingCopyElements.length;index++){const pricingEle=pricingCopyElements[index];const priceKey=pricingEle.getAttribute('data-price-key')||'price';const fallbackToCash=pricingEle.getAttribute('data-fallback-to-cash')==='true';pricingEle.innerHTML=getPriceWithKey(pricingData,region,state,model,variant,financeOption,getState,priceKey,fallbackToCash)};for(let index=0;index<financeOptionCopyElements.length;index++){const financeOptionEle=financeOptionCopyElements[index];financeOptionEle.style.display='inline'};for(let index=0;index<stateCopyElements.length;index++){const stateEle=stateCopyElements[index];if(window.innerWidth>600){stateEle.innerHTML=stateNameMappings[state]||state.toUpperCase()}
else{stateEle.innerHTML=state.toUpperCase()};stateEle.style.display='inline'}}catch(e$){const fallbackCopyElements=container.querySelectorAll('[data-entity="dynamic-pricing-copy"][data-copy="fallback"]');for(let index=0;index<fallbackCopyElements.length;index++){const fallbackEle=fallbackCopyElements[index];fallbackEle.style.display='inline'}}})};return containerData.reduce((promiseChain,containerItem)=>{return promiseChain.then(()=>processContainer(containerItem))},Promise.resolve())}catch(e$){console.log('Error initializing dynamic pricing:',e$)}};const dynamicContent=(state)=>{return Promise.resolve().then(()=>{const dynamicContentContainers=document.querySelectorAll('[data-entity="dynamic-content-container-injector-2"]');dynamicContentContainers.forEach((container)=>{const dynamicContentCopyElements=container.querySelectorAll('[data-entity="dynamic-content-copy"]');dynamicContentCopyElements.forEach((copyElement)=>{const stateList=copyElement.getAttribute('data-state-list');if(stateList&&!stateList.split(',').includes(state)){copyElement.style.display='none';copyElement.innerHTML=''}
else{copyElement.style.display='inline';copyElement.classList.add('tcl-dynamic-content--visible')}})})})};let result=getStateFromCookie().then(async(state)=>{let locale=window.Tesla?.locale||'en_US';locale=locale==='en'?'en_US':locale;let region=locale?.split('_')?.[1]?.toUpperCase()||'US';return getPrice(region,state,'&includeRegionalIncentives&includeFederalIncentives').then((pricingData)=>{return{state,pricingData}})});window.addEventListener('load',()=>{try{if(result.state){Promise.all([dynamicContent(result.state),extractPricingData(result.state,result.pricingData)]).then(()=>{setTimeout(()=>{const dynamicContentPlaceholderElements=document.querySelectorAll('[data-entity="dynamic-content-placeholder"]');dynamicContentPlaceholderElements.forEach((placeholder)=>{placeholder.innerHTML=''})},100)})}
else{getStateFromCookie().then(fetchedState=>{Promise.all([dynamicContent(fetchedState),extractPricingData(fetchedState,result.pricingData)]).then(()=>{setTimeout(()=>{const dynamicContentPlaceholderElements=document.querySelectorAll('[data-entity="dynamic-content-placeholder"]');dynamicContentPlaceholderElements.forEach((placeholder)=>{placeholder.innerHTML=''})},100)})})}}catch(e$){console.log('Error initializing dynamic pricing:',e$)}});;
